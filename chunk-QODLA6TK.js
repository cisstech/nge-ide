import{b as G,d as C,e as J}from"./chunk-GE73YBNN.js";import{$ as h,Ea as z,P as $,Q as B,S as V,W as q,aa as L,da as W}from"./chunk-HJVOMYXV.js";import{Aa as P,Ab as T,Ba as S,Bb as R,Hb as l,Ib as g,Jb as v,Kb as _,Lb as y,Pc as H,Rb as b,Ua as M,Vb as D,Wb as O,Wc as Q,Xb as w,Yb as x,Zb as m,_b as j,bc as A,eb as a,fb as p,mc as k,nc as F,pc as I,ra as E,ub as u,wb as f,xb as N,xc as U}from"./chunk-PL3RMG6N.js";function Z(n,i){n&1&&(l(0,"span",6),m(1,"AUCUN PROBL\xC8ME"),g())}function ee(n,i){if(n&1&&(_(0),l(1,"div",8),v(2,"div"),m(3,"\xA0 "),v(4,"ui-icon",9),k(5,"iconFile"),m(6,"\xA0 "),l(7,"div"),m(8),g()(),y()),n&2){let r=b().$implicit;b();let e=x(2);a(2),R("codicon codicon-",e.isExpanded(r)?"chevron-down":"chevron-right",""),a(2),f("icon",F(5,5,r.name)),a(4),j(r.name)}}function te(n,i){if(n&1&&(l(0,"div",10),v(1,"div"),m(2,"\xA0 "),l(3,"div"),m(4),g()()),n&2){let r=b().$implicit;N("margin","0 8px"),f("title",r.data.tooltip),a(),T(r.data.iconClass),a(3),A(" ",r.name," [",r.data.lineNumber,", ",r.data.column,"]")}}function ie(n,i){if(n&1&&(_(0),u(1,ee,9,7,"ng-container",7)(2,te,5,8,"ng-template",null,2,I),y()),n&2){let r=i.$implicit,e=x(3);a(),f("ngIf",r.expandable)("ngIfElse",e)}}function ne(n,i){}var K=(()=>{let i=class i{constructor(e,t,o,d,X){this.editorService=e,this.elementRef=t,this.diagnosticService=o,this.changeDetectorRef=d,this.notificationService=X,this.subscriptions=[],this.adapter={id:"problems.tree",idProvider:c=>c.id,nameProvider:c=>c.name,isExpandable:c=>{var s;return!!((s=c.children)!=null&&s.length)},childrenProvider:c=>c.children||[],actions:{mouse:{click:c=>{let s=c.node;s.diagnostic&&this.editorService.open(monaco.Uri.parse(s.uri),{position:{line:s.lineNumber||1,column:s.column||0}}).catch(this.notificationService.publishError.bind(this))}}}},this.nodes=[]}ngOnInit(){this.subscriptions.push(this.diagnosticService.asObservableAll().subscribe(e=>{this.nodes=e.map(this.buildNode.bind(this)),this.changeDetectorRef.markForCheck()}))}ngOnDestroy(){this.subscriptions.forEach(e=>e.unsubscribe())}ngAfterViewChecked(){let e=this.elementRef.nativeElement.offsetHeight+"px";e!==this.adapter.treeHeight&&(this.adapter.treeHeight=e)}buildNode(e){return{id:e.uri,uri:e.uri,name:W.basename(e.uri),tooltip:e.uri,children:e.diagnostics.map((t,o)=>{let d={[h.Info]:"codicon codicon-info icon-info",[h.Hint]:"codicon codicon-info icon-hint",[h.Error]:"codicon codicon-error icon-error",[h.Warning]:"codicon codicon-warning icon-info"};return{id:e.uri+"#"+o,uri:e.uri,name:this.truncate(t.message,100),column:t.range.start.column,tooltip:t.message,iconClass:d[t.severity],lineNumber:t.range.start.lineNumber,diagnostic:t}}).sort((t,o)=>t.diagnostic?o.diagnostic?t.diagnostic.severity.localeCompare(o.diagnostic.severity):1:-1)}}truncate(e,t){return e.length<=t?e:e.substr(0,t)+"..."}};i.\u0275fac=function(t){return new(t||i)(p(z),p(M),p(L),p(U),p(q))},i.\u0275cmp=P({type:i,selectors:[["ide-problems"]],viewQuery:function(t,o){if(t&1&&D(C,7),t&2){let d;O(d=w())&&(o.tree=d.first)}},decls:6,vars:3,consts:[["treeRef",""],["treeTemplate",""],["leafTemplate",""],["class","label-empty",4,"ngIf"],[3,"adapter","nodes"],[4,"treeNode"],[1,"label-empty"],[4,"ngIf","ngIfElse"],[1,"tree-label"],[3,"icon"],[1,"tree-label",3,"title"]],template:function(t,o){t&1&&(u(0,Z,2,0,"span",3),l(1,"ui-tree",4,0),u(3,ie,4,2,"ng-container",5),g(),u(4,ne,0,0,"ng-template",null,1,I)),t&2&&(f("ngIf",!o.nodes.length),a(),f("adapter",o.adapter)("nodes",o.nodes))},dependencies:[H,C,G,$,B],styles:["[_nghost-%COMP%]{display:block;height:100%;padding:0;position:relative}.label-empty[_ngcontent-%COMP%]{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%)}.tree-label[_ngcontent-%COMP%]{display:flex;align-items:center}.icon-info[_ngcontent-%COMP%], .icon-hint[_ngcontent-%COMP%]{color:#007acc}.icon-warn[_ngcontent-%COMP%]{color:#ddb100}.icon-error[_ngcontent-%COMP%]{color:#a1260d}"],changeDetection:0});let n=i;return n})();var ge=(()=>{let i=class i{constructor(){this.component=K}};i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=S({type:i}),i.\u0275inj=E({imports:[Q,J,V]});let n=i;return n})();export{ge as a};
